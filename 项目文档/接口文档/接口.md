# 项目提供了的接口:

注意:http status为200则是正常情况,需要前端处理.http status不为200则为异常情况,需要咨询后端

## 主页
url:/

请求方式:get

请求参数:
```json

```

返回值:

正常:
```json

```

## 登陆
url:/auth/login
### GET


请求参数:
```json

```

返回值:
```json

```
### POST
请求参数:
```json
{
  "username": "用户名",
  "password": "密码"
}
```
参数可以使用json或者form表单提交

返回值:
+ 请求成功:
```json
{
  "code": 200,
  "msg": "成功",
  "data": {
    "token": "token",
    "username": "用户名",
    "user_id": "角色id号"
  }
}
```
样例:
```json
{
    "code": 1000,
    "message": "请求成功",
    "data": {
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwidXNlcl9pZCI6MzUsImlzcyI6IjQwOeWuv-iIjeeahOeyvuiHtOeahOe7vOWQiOmhueebriIsImV4cCI6MTcxNTMyMjU3OSwiaWF0IjoxNzE1MjM2MTc5fQ.3bE_yuzL_tGypmebbcIuwlML8KVA_GqFk7RA35zAxAc",
        "user_id": 100,
        "username": "admin"
    }
}
```
+ 数据库错误:
```json
{
  "code": 1005,
  "msg": "数据库错误",
  "data": ""
}
```
+ 请求参数出错:
```json
{
  "code": 1001,
  "msg": "请求参数出错",
  "data": ""
}
```
+ 用户不存在:
```json
{
  "code": 1002,
  "msg": "用户不存在",
  "data": ""
}
```
+ 密码错误:
```json
{
  "code": 1003,
  "msg": "密码错误",
  "data": ""
}
```
+ 无法生成jwt token:
```json
{
  "code": 1006,
  "msg": "无法生成jwt token",
  "data": ""
}
```

## 注册
url:/auth/register
### GET
请求参数:
```json

```
返回值:
```json

```
### POST
请求参数:
```json
{
  "username": "用户名",
  "password": "密码",
  "role": "角色",
  "email": "邮箱"
}
```
参数可以使用json或者form表单提交

返回值:
+ 请求成功:
```json
{
  "code": 1000,
  "msg": "成功",
  "data": ""
}
```
+ 数据库错误:
```json
{
  "code": 1005,
  "msg": "数据库错误",
  "data": ""
}
```
+ 注册请求参数错误:
```json
{
  "code": 1010,
  "msg": "注册请求参数出错",
  "data": ""
}
```
+ 用户已存在
```json
{
  "code": 1011,
  "msg": "用户已存在",
  "data": ""
}
```
+ 用户名已存在
```json
{
  "code": 1012,
  "msg": "用户名已存在",
  "data": ""
}
```
+ 邮箱已存在
```json
{
  "code": 1013,
  "msg": "邮箱已存在",
  "data": ""
}
```
+ 创建用户失败
```json
{
  "code": 1014,
  "msg": "创建用户失败",
  "data": ""
}
```
## 获取房屋信息

url:/house

### GET

请求参数:
+ body:
```json

```

返回值:
+ 请求成功:
```json
{
  "code": 1000,
  "msg": "成功",
  "data": [
    {
      "ID": 1,
      "CreatedAt": "0001-01-01T00:00:00Z",
      "UpdatedAt": "0001-01-01T00:00:00Z",
      "DeletedAt": null,
      "owner": "admin",
      "owner_id": 1,
      "title": "标题",
      "description": "房屋介绍",
      "price": 1,
      "address": "1",
      "Images": [
        {
          "ID": 1,
          "CreatedAt": "0001-01-01T00:00:00Z",
          "UpdatedAt": "0001-01-01T00:00:00Z",
          "DeletedAt": null,
          "HouseID": 1,
          "URL": "房屋图片地址"
        }
      ]
    }
  ]
}
```
+ 获取数据库出错:
```json
{
  "code": 1005,
  "msg": "数据库错误",
  "data": ""
}
```
+ 获取房屋列表错误
```json
{
  "code": 1019,
  "msg": "获取房屋列表错误",
  "data": ""
}
```

## 获取某一个房屋信息

url:/house/{id}

### GET
请求参数:
+ path
```json
  "id": "房屋id"
```
+ body:
```json

```

返回值:
+ 请求成功:
```json
{
  "code": 1000,
  "msg": "成功",
  "data": {
    "ID": 1,
    "CreatedAt": "0001-01-01T00:00:00Z",
    "UpdatedAt": "0001-01-01T00:00:00Z",
    "DeletedAt": null,
    "owner": "admin",
    "owner_id": 1,
    "title": "标题",
    "description": "房屋介绍",
    "price": 1,
    "address": "1",
    "Images": [
      {
        "ID": 1,
        "CreatedAt": "0001-01-01T00:00:00Z",
        "UpdatedAt": "0001-01-01T00:00:00Z",
        "DeletedAt": null,
        "HouseID": 1,
        "URL": "房屋图片地址"
      }
    ]
  }
}
```
+ 获取数据库出错:
```json
{
  "code": 1005,
  "msg": "数据库错误",
  "data": ""
}
```
+ 房屋ID无效:
```json
{
  "code": 1021,
  "msg": "房屋ID无效",
  "data": ""
}
```
+ 获取房屋信息错误
```json
{
  "code": 1020,
  "msg": "获取房屋信息错误",
  "data": ""
}
```

## 预约

url:/houses/appointment

### POST

请求参数:

+   head

```json
"Authorization": "token"
```

+   body

```json
{
	"user_id":"用户名",
	"house_id":"用户id",
	"time":"预约时间"
}
```



返回值:

+   预约成功

```json
{
    "code":1000,
    "msg":"成功",
    "data":
}
```
+ 获取数据库出错:
```json
{
  "code": 1005,
  "msg": "数据库错误",
  "data": ""
}
```
+ 获取用户id错误
```json
{
	"code":1017,
	"msg":"获取用户id错误",
	"data":""
}
```

+ 用户id类型

```json
{
	"code":1018,
	"msg":"用户id类型错误",
	"data":""
}
```

+ 参数错误

```json
{
	"code":1015,
	"msg":"预约请求参数错误",
	"data":""
}
```

+ jwt token的错误

```json
{
	"code":1007,
	"msg":"",
	"data":""
}
```
```json
{
	"code":1008,
	"msg":"",
	"data":""
}
```
```json
{
	"code":1009,
	"msg":"",
	"data":""
}
```

## 收藏房源

