
# `/auth/login` 接口文档

## GET `/auth/login`

该接口用于获取登录页面。

### 请求

无需请求体。

### 响应

- `200 OK`：成功获取登录页面。返回HTML内容。

## POST `/auth/login`

该接口用于处理用户登录。

### 请求

需要在请求体中提供以下JSON格式的数据：

```json
{
  "username": "用户名",
  "password": "密码"
}
```

### 响应

#### 成功响应

- `200 OK`：登录成功。返回JSON格式的数据，包含用户信息和token。

  响应体示例：

  ```json
  {
    "message": "登录成功",
    "data": {
      "token": "用户认证Token",
      "user_id": "用户ID",
      "username": "用户名"
    }
  }
  ```

#### 错误响应

- `400 Bad Request`：请求参数错误。可能是因为请求格式不正确或缺少必要信息。

- `401 Unauthorized`：找不到用户或密码错误。如果是因为密码错误，还会记录尝试登录的IP地址。

- `500 Internal Server Error`：无法获取数据库连接或无法生成token。这可能是服务器内部配置错误或数据库服务不可用。

### 特殊处理

- 登录尝试时，如果密码错误，服务器会记录错误尝试的次数和尝试登录的IP地址（此功能需自行实现）。
- 在处理登录请求时，会检查数据库中用户的存在性以及密码的匹配性。若用户不存在或密码不匹配，则返回`401 Unauthorized`错误。
- 成功登录后，会生成一个JWT token返回给客户端，用于后续的用户认证。
